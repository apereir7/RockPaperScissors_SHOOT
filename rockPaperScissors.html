<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  
<script>

let computerSelection;

let playerSelection;






function playRound(computerSelection, playerSelection) {
  
  function computerPlay () { // had to nest this function inside 'playRound' function- 
    let rock = `rock`;       //or else the output of this function wouldn't change- 
    let paper = `paper`;     //when playing multiple rounds without refresing page.
    let scissors = `scissors`;
    let RockPaperScissors = Array(rock,paper,scissors);
    let option = RockPaperScissors[Math.floor(Math.random() * RockPaperScissors.length)];
    return option;
  }
  computerSelection= computerPlay();
  playerSelection =  prompt(`Rock, Paper, or Scissors?`).toLowerCase(); //Nested this variable because it is a prompt- 
                                                                        //and would prompt the user twice just to play 1 round-
                                                                        //when not inside of this playRound function.
  
                                                                        
let w;
let l;
let t;
  if (computerSelection == playerSelection) {
    return t=0;
  }else if (computerSelection == `paper` && playerSelection == `rock`) {
    return l=1;
  }else if (computerSelection == `paper` && playerSelection ==`scissors`) {
    return w=2;
  }else if (computerSelection == `scissors` && playerSelection == `paper`) {
    return l=1;
  }else if (computerSelection == `scissors` && playerSelection == `rock`) {
    return w=2;
  }else if (computerSelection == `rock` && playerSelection == `scissors`) {
    return l=1;
  }else if (computerSelection == `rock` && playerSelection == `paper`) {
    return w=2;
  }

}





let score1;
let score2;
let score3;
let score4;
let score5;




function game() {
  let i; 
  
 
  let array1 = new Array(1,);
  

  for (i=1; i<4; i++) {

    console.log(`Round `+i);
     array1[i] = playRound(computerSelection,playerSelection);

    if (array1[i] == 0) {
      console.log(`You tied round`);
    }else if (array1[i] == 1) {
      console.log(`You lose round`);
    } else if (array1[i]== 2) {
      console.log(`You win round`);
    }
      
    if (array1[i] == 2) {
      array1[i] = array1[i]/2;
    }else if (array1[i] == 1) {
      array1[i] = (-1)*array1[i];
    }
    
  }


  const bestOfThree = array1[1] + array1[2] +array1[3];


  if (bestOfThree == 3) {
    console.log(`You won game`)
    return;
  }else if (bestOfThree == -3) {
    console.log(`You lost game`);
    return;
    }
  
  console.log(`Round 4`);
  
    
  let fourthRound = playRound(computerSelection,playerSelection);
  if (fourthRound == 0) {
      console.log(`You tied round`);
    }else if (fourthRound == 1) {
      console.log(`You lose round`);
    } else if (fourthRound== 2) {
      console.log(`You win round`);
    }
      
    if (fourthRound == 2) {
      fourthRound = fourthRound/2;
    }else if (fourthRound == 1) {
      fourthRound = (-1)*fourthRound;
    }

    

    const bestOfFour = fourthRound + array1[1] + array1[2] +array1[3];

    if (bestOfFour== 3) {
      console.log(`You won game`)
      return;
    }else if (bestOfFour == -3) {
      console.log(`You lost game`);
      return;
    }
  
    
  console.log(`Round 5`);


  let fifthRound = playRound(computerSelection,playerSelection);
  if (fifthRound == 0) {
    console.log(`You tied round`);
  }else if (fifthRound == 1) {
    console.log(`You lose round`);
  } else if (fifthRound== 2) {
    console.log(`You win round`);
  }
      
  if (fifthRound == 2) {
    fifthRound = fifthRound/2;
  }else if (fifthRound == 1) {
    fifthRound = (-1)*fifthRound;
  }

  

  const BestOfFive =  bestOfThree + bestOfFour;

  if (Math.sign(BestOfFive) == 1 ) {
    console.log (`You won game`);
    return;
  }else if (Math.sign(BestOfFive) == -1) {
    console.log(`You lost game`);
    return;
  }else if(BestOfFive == 0) {
    console.log(`Tie game`);
    return;
  }
  




}  
  




game();
  



</script>
</body>
</html>